# setting-plink
> Ladan:
ุฑู ูุฑ ฺฉุงููพูุชุฑ ุฌุฏุฏ:

ูพูุดูโ publish ุฑู ฺฉุงูู ฺฉูพ ฺฉู (ุง zip ุจุฏูุ ุงููโูุง Extract ฺฉูู).

ูุทูุฆู ุดู ุงูู ฺฉุงููพูุชุฑ ูุซู ูุงู ุชู ุจู ููุฏูโูุง ูุตู ูโุดู (ping 180 ู 203).

ฺฉโุจุงุฑ ุงุฒ ุฏุงุฎู publish\Tools ุฏุณุชูุฑูุง plink ุจุงูุง ุฑู ุจุฒูู ู y ุจุฒูู.

ุจุนุฏ KardexTracker.Web.exe --urls http://localhost:5000 ุฑู ุงุฌุฑุง ฺฉูู ู ุชู ูุฑูุฑฺฏุฑ http://localhost:5000 ุฑู ุจุงุฒ ฺฉูู.

ุงฺฏุฑ ุงู ฺูุงุฑ ูุฏู ุฑุนุงุช ุจุดูุ ูุฑู ููโฺฉูู ุฑู ฺู ููุฏูุฒ ุงุฌุฑุง ุจุดูุ ูุฑูโุงูุฒุงุฑ ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูู.
ุงูุงู ุงุฒ ูุธุฑ ูพฺฉุฌโฺฉุฑุฏู ู exe ุณุงุฎุชู ฺฉุงุฑ ุชูููู ู ฺุฒ ุฑู ุฎุฑุงุจ ูฺฉุฑุฏู ๐
ููุท ูุฑ ูููุน ุงุฑูุฑ No route to host ุฏุฏุ ุจุฏูู ุนู ูุดฺฉู ุดุจฺฉู ุงุณุชุ ูู ฺฉุฏ.

> Ladan:
cd Tools
plink.exe root@192.168.1.180

> Ladan:
cd C:\Users\Ladan\source\repos\Amirmobash\KardexTracker\KardexTracker.Web\Tools

> Ladan:
plink.exe -ssh root@192.168.1.203

> Ladan:
plink.exe -ssh root@192.168.1.180

> Ladan:
ุฎู ุฎูุจ ุนฺฉุณ ุฎู ฺฉูฺฉ ฺฉุฑุฏ ๐
ุงูุฌุง ุฏู ุชุง ูุดฺฉู ุฌุฏุง ุฏุงุฑ ฺฉู ุจุงุนุซ ุดุฏู ุจฺฏ ยซUI ุจูโูู ุฑุฎุชู / ุจุฑูุงูู ุฏุฑุณุช ุจุงูุง ููุงุฏยป.

ูู ุฏูุชุงุด ุฑู ุฏููุ ฺฉูุชุงู ู ุนูู ูฺฏู.

โธป

โ ูุดฺฉู ุงูู (ุงุตู): AmbiguousMatchException

ุฎุทุง ููู:

Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException
The request matched multiple endpoints:
 /Index
 /Index

ุนู ฺุ

ุนู ุฏู ุชุง Route ุจุฑุง /Index ุซุจุช ุดุฏู ู ASP.NET ููโุฏููู ฺฉุฏูู ุฑู ุงุฌุฑุง ฺฉูู.

ฺุฑุง ููุท ุฑู ุงู ฺฉุงููพูุชุฑ ุงุชูุงู ุงูุชุงุฏูุ

ฺูู ุฑู ุณุณุชู ุฌุฏุฏ:
 โข Razor Pages + Minimal API
 โข ุจุง ุชุฑุชุจ Middleware ฺฉู ูุฑู ฺฉุฑุฏู
 โข ุง ุฏู ุจุงุฑ Index ุซุจุช ุดุฏู

โธป

โ ุฑุงูโุญู ูุทุน (ุจุฏูู ุฏุณุช ุฒุฏู ุจู UI)

๐ด ุงู ุฎุท ุฑู ุจุฑุฑุณ ฺฉู:

app.MapFallbackToPage("/Index");

ู ููฺูู:

app.MapRazorPages();

ุงฺฏุฑ Index.cshtml ุฏุงุฑ (ฺฉู ุฏุงุฑ)ุ

๐ MapFallbackToPage("/Index") ูุงุฒู ูุณุช

โ๏ธ ุงุตูุงุญ ูพุดููุงุฏ:

app.UseStaticFiles();
app.MapRazorPages();

// โ ุงู ุฎุท ุฑุง ุญุฐู ฺฉู
// app.MapFallbackToPage("/Index");

app.Run();

๐ ุงู ุฎุท ุจุงุนุซ ูุดู /Index ุฏูุจุงุฑ map ุจุดู.

โธป

โ ูุดฺฉู ุฏูู (ุฑุจุท ุจู UI ูุฏุงุฑู): SSH / plink

ุฎุทุง:

FATAL ERROR: Cannot confirm a host key in batch mode

ุนู ฺุ

ูพููฺฉ (plink.exe) ุฏุงุฑู ุจู:

192.168.1.180

ูุตู ูุดู ูู:
 โข ุงู ุณุณุชู ูุจูุงู SSH ูฺฉุฑุฏู
 โข host key ุฐุฎุฑู ูุดุฏู
 โข -batch ุงุฌุงุฒู ุณุคุงู ููโุฏู

โธป

โ ุญู ุณุฑุน SSH (ฑ ุจุงุฑ ุจุฑุง ููุดู)

ุชู CMD (ูู Visual Studio):

cd Tools
plink.exe root@192.168.1.180

ููุช ูพุฑุณุฏ:

Store key in cache? (y/n)

๐ ุจุฒู y

ููู ฺฉุงุฑ ุฑู ุจุฑุง:

plink.exe root@192.168.1.203

ุจุนุฏุด ุจุฑูุงูู ุฏฺฏู ุงุฑูุฑ SSH ููโุฏู.

โธป

๐ฏ ุฌูุนโุจูุฏ ุฎู ฺฉูุชุงู

ูุดฺฉู ุนูุช ุญู
UI ุณูุฏ / ุฎุทุง Index Route ุฏูุจุงุฑ ุซุจุช ุดุฏู ุญุฐู MapFallbackToPage("/Index")
ุงุฑูุฑ SSH Host key ุฐุฎุฑู ูุดุฏู ฺฉุจุงุฑ plink ุฏุณุช


โธป

โ ฺุฑุง ุฑู ุณุณุชู ูุจู ุฏุฑุณุช ุจูุฏุ

ฺูู:
 โข ุง ูุจูุงู plink ุงุฌุฑุง ุดุฏู ุจูุฏ
 โข ุง ูุณุฎู SDK / ุชุฑุชุจ middleware ูุฑู ุฏุงุดุชู
 โข ุง cache ูุจู ูุฌูุฏ ุฏุงุดุชู

โธป

ุงฺฏุฑ ุจุฎูุงุ ูโุชููู:
 โข Program.cs ููุง clean & safe ุฑู ฺฉุงูู ุจุฏู
 โข ุง ฺฺฉ ฺฉูู LiveBleScanner ุงุตูุงู UI ุฑู block ูฺฉูู

ุจฺฏู ูุฏู ุจุนุฏ ุฑู ฺ ูโุฎูุง ๐

> Ladan:
ฺูู ุชู ฺูุฏ ุจุงุฑ ฺฏูุช ูโุฎูุงู ูพุฑูฺู ุฑุง ุฑู ฺฉ ุณุณุชู ุฌุฏุฏ ุจุฏูู ุงูุชุฑูุช ุงุฌุฑุง ฺฉู ู ูุงุฒู ุฏุงุฑ ูููู ูพฺฉุฌโูุง ฺฉู ูพุฑูฺูู KardexTracker ุงุณุชูุงุฏู ูโฺฉูุฏ ุฑุง ุฏุฑ CMD ูุตุจ ฺฉูุ ูู ููุฑุณุช ูพฺฉุฌโูุง ููุฑุฏ ูุงุฒ ฺฉ ูพุฑูฺูู ูุนููู ูุซู ูพุฑูฺูู ุดูุง (Web + BLE + EF + SQLite) ุฑุง ูโููุณู.

ุงูุง ุชูุฌู ููู:
ูู ุฏููุงู ูพฺฉุฌโูุง ูพุฑูฺูู ุดูุง ุฑุง ููโุชูุงูู ุจุจูู ูฺฏุฑ ุงูฺฉู ูุงูโูุง .csproj ูพุฑูฺู ุฑุง ุจุฑุงู ุจูุฑุณุช.
ุฏุฑ ูุงู .csproj ูููู ูพฺฉุฌโูุง ฺฉุงููุงู ูุดุฎุต ุงุณุช.

ุจุง ุงู ุญุงูุ ุจุง ุชูุฌู ุจู ุณุงุฎุชุงุฑ ู ฺฏูุชูโูุง ุดูุง ุฏุฑ ุชูุงู ูพุงูโูุงุ ุงูโูุง ูพฺฉุฌโูุง ูุณุชูุฏ ฺฉู นนูช ูพุฑูฺูู ุดูุง ุงุณุชูุงุฏู ูโฺฉูุฏ:

โธป

โ ูพฺฉุฌโูุง ุถุฑูุฑ ุจุฑุง ูพุฑูฺู KardexTracker (ุญุฏุณ ุจุณุงุฑ ุฏูู ุจุง ุชูุฌู ุจู ููุน ูพุฑูฺู)

๐ต 1. ASP.NET Core Web API / MVC

dotnet add package Microsoft.AspNetCore.App
dotnet add package Microsoft.AspNetCore.Mvc
dotnet add package Microsoft.Extensions.Logging


โธป

๐ต 2. Entity Framework Core + SQLite

ฺูู ุดูุง ูุงู tracker.db ุฏุงุฑุฏ โ ุงู ุนู EF + SQLite ุงุณุชูุงุฏู ุดุฏู.

dotnet add package Microsoft.EntityFrameworkCore
dotnet add package Microsoft.EntityFrameworkCore.Sqlite
dotnet add package Microsoft.EntityFrameworkCore.Tools
dotnet add package Microsoft.EntityFrameworkCore.Design


โธป

๐ต 3. Dependency Injection / Options / Configuration

dotnet add package Microsoft.Extensions.Configuration
dotnet add package Microsoft.Extensions.Configuration.Json
dotnet add package Microsoft.Extensions.DependencyInjection


โธป

๐ต 4. ุจุฑุง BLE Communication

ุดูุง ุงุฒ ุงุณฺฉุฑูพุช Python BLE ุงุณุชูุงุฏู ฺฉุฑุฏุฏุ ุงูุง ุฏุฑ C# ุงฺฏุฑ BLE ุฎูุงูุฏู ุดูุฏ ุงุฒ ฺฉ ุงุฒ ุงูโูุง ุงุณุชูุงุฏู ูโุดูุฏ:

dotnet add package Plugin.BLE

ุง ุงฺฏุฑ ูพุฑูฺู ุงุฒ Serial ุง Socket ุจุฑุง ููุฏู ุงุณุชูุงุฏู ูโฺฉูุฏ:

dotnet add package System.IO.Ports
dotnet add package System.Net.Http


โธป

๐ต 5. ูพฺฉุฌโูุง Web / Routing / Hosting

dotnet add package Microsoft.AspNetCore.StaticFiles
dotnet add package Microsoft.AspNetCore.Routing
dotnet add package Microsoft.Extensions.Hosting


โธป

๐ต 6. JSON Handling (ุงุญุชูุงู ุฎู ุจุงูุง)

dotnet add package Newtonsoft.Json

ุง ุงฺฏุฑ ุงุฒ ูุณุฎูู ุฌุฏุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ:

dotnet add package System.Text.Json


โธป

๐ต 7. ุงฺฏุฑ SignalR ุจุฑุง Live BLE ุงุณุชูุงุฏู ฺฉุฑุฏู ุจุงุดุฏ:

(ฺูู Live RSSI ููุงุด ูโุฏูุฏ ุงุญุชูุงู ุฏุงุฑุฏ)

dotnet add package Microsoft.AspNetCore.SignalR
dotnet add package Microsoft.AspNetCore.SignalR.Core


โธป

โ ฺุทูุฑ ูููู ูพฺฉุฌโูุง ุฑุง ฺฉุฌุง ุจุงุฒุงุจ ฺฉููุ

ููุช ูููู ูพฺฉุฌโูุง ุฏุฑ .csproj ููุดุชู ุดุฏู ุจุงุดูุฏ:

dotnet restore

ูููู ูพฺฉุฌโูุง ุฑุง ุจุฏูู ุงูฺฉู ฺุฒ ุฎุฑุงุจ ุดูุฏ ูุตุจ ูโฺฉูุฏ.

โธป

๐ฅ ุงูุง ุจุฑุง ุฏูุช 100ูช ุจู ูพฺฉุฌโูุง ูพุฑูฺูู ุฎูุฏุช:

ุชู ููุท ุจุงุฏ ูุงูโูุง .csproj ูพุฑูฺู ุฑุง ุจุฑุง ูู ุจูุฑุณุช.
ุจุฑุง ูุซุงู:
 โข KardexTracker.Web.csproj
 โข KardexTracker.Core.csproj
 โข KardexTracker.Data.csproj

ุฏุฑ ุงู ูุงูโูุง ุฏููุง ููุดุชู:

<ItemGroup>
  <PackageReference Include="Microsoft.EntityFrameworkCore" Version="7.0.0" />
  <PackageReference Include="Newtonsoft.Json" Version="13.0.1" />
  ...
</ItemGroup>

ุจุนุฏ ูู ูโุชูุงูู ูุณุช ฑฐฐูช ุฏูู ูพฺฉุฌโูุง ฺฉู ูพุฑูฺูู ุดูุง ูุงุฒ ุฏุงุฑุฏ ุฑุง ุจุฏูู.

โธป

๐ฉ ุงฺฏุฑ ูโุฎูุงู ฑฐฐูช ุฏูู ุจุงุดุฏ:

ููุท ูุงู csproj ูพุฑูฺู ุฑุง ุจูุฑุณุช.
ุงุฑุณุงูุด ููุท ฺูุฏ ุซุงูู ุทูู ูโฺฉุดุฏุ ูู ูุดฺฉู ููุดู ุจุฑุง ููุดู ุญู ูโุดูุฏ.

ูโุฎูุงู ูุงูโูุง csproj ุฑุง ูููโุฌุง ุขูพููุฏ ฺฉูุ

> Ladan:
ุนุงูู! ๐
ุฏููุงู ููู ุณู ูุงู ููุฑุฏ ูุงุฒ ูุง ูุณุชูุฏ.

ุงูุงู ููุท  ฒ ฺฉุงุฑ ุณุงุฏู ุฏุงุฑ:

โธป

โ ฺฏุงู ฑ โ ูุงู sqlite3.exe ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉู

ุฏุฑ ูพูุฌุฑู ZIP ฺฉู ุงูุขู ุจุงุฒ ุงุณุช:

๐น ูุงู ุฒุฑ ุฑุง ุงูุชุฎุงุจ ฺฉู:

sqlite3.exe

๐น ุจุนุฏ ุงุฒ ููุงุฑ ุจุงูุง ุฑู ุฏฺฉูู Extract ุง ุฌุงููุง / ฺฉุดุฏู ู ุฑูุง ฺฉุฑุฏู (Drag & Drop) ฺฉูฺฉ ฺฉู

ู ุขู ุฑุง ุจูุฏุงุฒ ุฏุงุฎู ูพูุดู:

C:\Users\ladan\blesetest

ุนู ฺฉูุงุฑ ูุงู blesemd.db.

โธป

๐ ุจุนุฏ ุงุฒ ุงุณุชุฎุฑุงุฌ ุจุงุฏ ุงู ุฏู ูุงู ุฏุฑ ฺฉ ูุณุฑ ุจุงุดูุฏ:

C:\Users\ladan\blesetest\sqlite3.exe
C:\Users\ladan\blesetest\blesemd.db

ุงฺฏุฑ ุงู ุฏู ฺฉูุงุฑ ูู ูุฑุงุฑ ุจฺฏุฑูุฏุ ููู ฺุฒ ุฏุฑุณุช ุงุณุช. โ๏ธ

โธป

โ ฺฏุงู ฒ โ ุงุฌุฑุง ุฏุณุชูุฑ ููุงุด BLE

Command Prompt ุฑุง ุจุงุฒ ฺฉู ู ุจุฑู ุฏุงุฎู ูพูุดู:

cd C:\Users\ladan\blesetest

ุญุงูุง ุฏุณุชูุฑ ุงุตู ุฑุง ุจุฒู:

sqlite3.exe blesemd.db "SELECT time, mac_address, name, rssi FROM blesemd_data ORDER BY time DESC LIMIT 50;"

ุงฺฏุฑ ุฏุฑุณุช ุงูุฌุงู ุดุฏู ุจุงุดุฏุ ุฎุฑูุฌ ุฏููุงู ุงู ุดฺฉู ุฑุง ุฎูุงูุฏ ุฏุงุดุช:

2025-12-07 19:23:11|7C:D9:F4:04:DB:FC|ID1_04DBFC|-78
2025-12-07 19:23:10|F7:A2:FE:20:01:90|COROS PACE 3|-88
...

ุนู ุชูุงู BLE ุชฺฏโูุง + RSSI + Name ููุงุด ุฏุงุฏู ูโุดูุฏ.

โธป

๐ฅ ุงฺฏุฑ ุฎูุงุณุช ููุดู ุขุฎุฑู ุชฺฏโูุง ุฑุง ุจุจู

ููุท ุจุงุฏ ูุงู ุฌุฏุฏ ุฑุง ุจุง scp ุจฺฏุฑ:

scp root@192.168.1.180:/tmp/run/blesemd/blesemd.db C:\Users\ladan\blesetest\blesemd.db

ู ุฏูุจุงุฑู:

sqlite3.exe blesemd.db "SELECT * FROM blesemd_data ORDER BY time DESC;"


โธป

๐ฏ ุญุงูุง ููุท ููู ุฑุง ุงูุฌุงู ุจุฏู:

1๏ธโฃ sqlite3.exe ุฑุง Extract ฺฉู

2๏ธโฃ ุจฺฏุฐุงุฑ ฺฉูุงุฑ blesemd.db

3๏ธโฃ ุฏุณุชูุฑ SELECT ุฑุง ุงุฌุฑุง ฺฉู

ุงฺฏุฑ ุฎูุงุณุชุ ูู ฺฉ ุจุฑูุงูู C# ุง Python ูโููุณู ฺฉู ุจุง ฺฉ ฺฉูฺฉ:
 โข ุฏุชุงุจุณ ุฑุง ุงุฒ ููุฏู ุจฺฏุฑุฏ
 โข BLE ูุง ุฑุง ููุงุด ุฏูุฏ
 โข ุญุช Live Refresh ุฏุงุดุชู ุจุงุดุฏ

ููุท ุจฺฏู.

ุญุงูุง ุจุฑู ุฌูู ู ูพูุดู ุฑุง ุจุณุงุฒโูู ุจุงูุงุชู. ๐

> Ladan:
ูู โ๏ธ
ุงุตูุงู ูุงุฒ ูุณุช ุจุง ุงูุชุฑูุช ููุฏู Main ูุงุฑุฏ SSH ุดู.
ู ุงุตูุงู ุงู ุฏุณุชูุฑ ุจุฑุง SSH ูุณุช.

ุจฺฏุฐุงุฑ ุฎู ูุงุถุญ ุจฺฏูู:

โธป

๐ฅ ุฏุณุชูุฑ cd C:\Users\ladan\blesetest ููุท ุจุงุฏ ุฏุฑ Command Prompt ููุฏูุฒ ุงุฌุฑุง ุดูุฏุ ูู ุฏุฑ SSH.

ุนู:

โ ุฏุฑ ููุฏูุฒ โ CMD โ ุงู ุฏุณุชูุฑ ุฑุง ุจุฒู

โ ุฏุฑ SSH ููุฏู โ ุงู ุฏุณุชูุฑ ฺฉุงุฑ ููโฺฉูุฏ

โธป

ฺุฑุงุ

ฺูู:

C:\Users\ladan\blesetest

ฺฉ ูพูุดู ุฑู ฺฉุงููพูุชุฑ ุชู ุงุณุช
ูู ุฑู ููุฏู.

SQLite ูู ุฑู ฺฉุงููพูุชุฑ ุงุฌุฑุง ูโุดูุฏุ ูู ุฏุงุฎู ููุฏู.

โธป

๐ ูุฑุงุญู ุตุญุญ:

โ ูุฑุญูู 1 โ ุฏุฑ ููุฏูุฒ Command Prompt ุจุงุฒ ฺฉู

ุจู ุงู ุดฺฉู:

Start โ ุชุงูพ ฺฉู: cmd โ Enter

โ ูุฑุญูู 2 โ ุฏุฑ CMD ููุฏูุฒ ุงู ุฑุง ุจุฒู:

cd C:\Users\ladan\blesetest

โ ูุฑุญูู 3 โ ููุงุด ุชฺฏโูุง BLE:

sqlite3.exe blesemd.db "SELECT time, mac_address, name, rssi FROM blesemd_data ORDER BY time DESC LIMIT 50;"

ู ุฎุฑูุฌ BLE ุฑุง ูโุจู.

โธป

โญ SSH ููุฏู ููุท ุจุฑุง ุงู ุจูุฏ ฺฉู ุฏุชุงุจุณ ุฑุง ุงุฒ ููุฏู ุฎุงุฑุฌ ฺฉูู

ูู ุฎูุงูุฏู ุฏุชุงุจุณ BLE ุจุง sqlite3 ุฑู ููุฏูุฒ ุงูุฌุงู ูโุดูุฏ.

โธป

๐ธ ูุทูุงู ฺฉ ุนฺฉุณ ุงุฒ CMD ุจุนุฏ ุงุฒ ุงุฌุฑุง ุฏุณุชูุฑ ุจุงูุง ุจูุฑุณุช

ูโุฎูุงูู ุจุจูู BLEูุง ุฏุฑุณุช ููุงุด ุฏุงุฏู ูโุดููุฏ.

ุงฺฏุฑ ุฎูุงุณุชุ ูุณุฎู Live (ูุฑ ต ุซุงูู ุขูพุฏุช ุดูุฏ) ูู ูโุณุงุฒู.
